@let events = (events$ | async)!;

<div class="md:mx-20 md:my-10">
  <h1 class="flex justify-center text-3xl py-5">
    {{ appSettings.eventYear }} {{ 'eventListPublic.title' | translate }}
  </h1>
  @if (events) {
<div class="overflow-x-auto bg-white rounded-lg shadow">
  <table class="min-w-full divide-y divide-gray-200">
    <thead class="bg-gray-50">
      <tr>
        <th scope="col" class="whitespace-nowrap px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">{{ 'eventListPublic.date' | translate }}</th>
        <th scope="col" class="whitespace-nowrap px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">{{ 'eventListPublic.displayName' | translate }}</th>
        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">{{ 'eventListPublic.location' | translate }}</th>
        <th scope="col" class="whitespace-nowrap px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">{{ 'eventListPublic.swisstourType' | translate }}</th>
        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">{{ 'eventList.points' | translate }}</th>
        <th scope="col" class="whitespace-nowrap px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">{{ 'eventListPublic.info' | translate }}</th>
        <th scope="col" class="whitespace-nowrap px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">{{ 'eventListPublic.registration' | translate }}</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200">
      @for (event of events; track $index) {
      <tr>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ event.startDate | dateRange:event.endDate }}</td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ event.displayName }}</td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ event.city }}</td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ event.swisstourType }}</td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ event.points }}</td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
          <a class="rounded-md bg-green-200 px-3 py-1 shadow-sm text-gray-700  hover:bg-green-300"
          [href]="event.infoLink" target="_blank" rel="noopener noreferrer">Info
          </a>
        </td>
        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
          {{ event.registrationStart }}
          <a class="rounded-md bg-green-200 px-3 py-1 shadow-sm text-gray-700  hover:bg-green-300"
          [href]="event.registrationLink" target="_blank" rel="noopener noreferrer">Registration
          </a>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>
} @else
{
<p>No events listed for {{ appSettings.eventYear }} </p>
}
</div>
